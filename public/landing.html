<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Librarium - For Discerning Bibliophiles</title>
    <link rel="stylesheet" href="landing.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <meta name="description" content="Librarium offers connoisseurs of literature an elegant way to chronicle their curated collection of literary treasures.">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <nav class="nav">
                <div class="logo">
                    <h1>Librarium</h1>
                </div>
                <div class="nav-links">
                    <a href="#features">Distinctive Features</a>
                    <a href="#how-it-works">The Experience</a>
                    <a href="#testimonials">Fellow Bibliophiles</a>
                    <a href="#" class="btn btn-primary auth-link">Enter Library</a>
                </div>
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Your literary soul, digitally preserved</h1>
                <p>Snap a photo, instantly transform your physical bookshelf into your perfect digital library</p>
                <div class="hero-cta">
                    <a href="#" class="btn btn-primary btn-large auth-link">Begin Your Chronicle</a>
                    <a href="#how-it-works" class="btn btn-secondary btn-large">Discover the Artistry</a>
                </div>
            </div>
            <div class="hero-image">
                <img src="https://source.unsplash.com/random/600x400/?bookshelf" alt="Bookshelf scanned with AI" class="hero-img">
            </div>
        </div>
    </section>

    <section class="benefits" id="features">
        <div class="container">
            <h2 class="section-title">The Discerning Bibliophile's Choice</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h3>Effortless Documentation</h3>
                    <p>One photo captures your entire collection with precision.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Scholarly Organization</h3>
                    <p>Categorize by author, era, genre, or custom systems with a curator's touch.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-cloud"></i>
                    </div>
                    <h3>Perpetual Preservation</h3>
                    <p>Access your catalog anywhere while books remain safely on your shelves.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <h3>Cultivated Connections</h3>
                    <p>Share with fellow bibliophiles or maintain your private sanctuary.</p>
                </div>
            </div>
            <div class="benefits-cta">
                <a href="#" class="btn btn-primary auth-link">Commence Your Catalogue</a>
            </div>
        </div>
    </section>

    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <h2 class="section-title">The Refined Experience</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">I</div>
                    <div class="step-content">
                        <h3>Capture Your Collection</h3>
                        <p>Photograph your bookshelf to instantly create a digital catalog.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">II</div>
                    <div class="step-content">
                        <h3>Expert Recognition</h3>
                        <p>Advanced technology identifies titles, authors, and editions with precision.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">III</div>
                    <div class="step-content">
                        <h3>Curated Digital Archive</h3>
                        <p>Your collection becomes an elegant digital compendium for easy reference.</p>
                    </div>
                </div>
            </div>
            <div class="demo-cta">
                <a href="#" class="btn btn-primary auth-link">Experience the Artistry</a>
            </div>
        </div>
    </section>

    <section class="testimonials" id="testimonials">
        <div class="container">
            <h2 class="section-title">Words from Fellow Bibliophiles</h2>
            <div class="testimonial-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"The elegant interface befits my literary treasures. A true connoisseur's tool."</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://i.pravatar.cc/150?img=1" alt="User avatar">
                        </div>
                        <div class="author-info">
                            <h4>Dr. Sarah Blackwood</h4>
                            <p>Literary Historian & Collector</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"Honors physical books while providing an organization system worthy of a fine archive."</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://i.pravatar.cc/150?img=11" alt="User avatar">
                        </div>
                        <div class="author-info">
                            <h4>Professor Michael Thornfield</h4>
                            <p>Rare Books Curator</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"Provides the sophistication my first editions deserve, with an aesthetic that complements my collection."</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://i.pravatar.cc/150?img=5" alt="User avatar">
                        </div>
                        <div class="author-info">
                            <h4>Lady Eleanor Westbrook</h4>
                            <p>Private Collector & Bibliophile</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Elevate Your Collection?</h2>
                <p>Join bibliophiles who appreciate the dignity of their cherished volumes.</p>
                <a href="#" class="btn btn-primary btn-large auth-link">Begin Your Literary Journey</a>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>Librarium</h2>
                    <p>Chronicle. Preserve. Appreciate.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h3>Experience</h3>
                        <ul>
                            <li><a href="#features">Distinctive Features</a></li>
                            <li><a href="#how-it-works">The Experience</a></li>
                            <li><a href="#" class="btn btn-primary auth-link">Enter Library</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Atelier</h3>
                        <ul>
                            <li><a href="#">Our Philosophy</a></li>
                            <li><a href="#">Literary Journal</a></li>
                            <li><a href="#">Correspondence</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Assistance</h3>
                        <ul>
                            <li><a href="#">Curator's Desk</a></li>
                            <li><a href="#">Privacy Covenant</a></li>
                            <li><a href="#">Terms of Engagement</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Librarium. All literary rights preserved and honored.</p>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        document.getElementById('menuToggle').addEventListener('click', function() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('active');
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                // Skip if this is an auth link (already handled)
                if (this.classList.contains('auth-link')) {
                    return;
                }
                
                e.preventDefault();
                
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    window.scrollTo({
                        top: target.offsetTop - 70,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Auth navigation handler - checks if already authenticated
        async function handleAuthNavigation(e) {
            e.preventDefault();
            
            try {
                // Check if user is already authenticated using Azure's built-in endpoint
                const response = await fetch('/.auth/me');
                const authData = await response.json();
                
                // If user is authenticated (array has items)
                if (authData && authData.length > 0) {
                    // Already authenticated, go directly to app
                    window.location.href = '/app';
                } else {
                    // Not authenticated, go to login
                    window.location.href = '/.auth/login/google?post_login_redirect_uri=/app';
                }
            } catch (error) {
                console.error('Error checking authentication:', error);
                // On error, default to login flow
                window.location.href = '/.auth/login/google?post_login_redirect_uri=/app';
            }
        }
        
        // Add event listeners to all auth links
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.auth-link').forEach(link => {
                link.addEventListener('click', handleAuthNavigation);
            });
        });
    </script>
</body>
</html>