<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShelfSmart - Your Digital Library Companion</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <meta name="description" content="ShelfSmart offers book lovers an elegant way to catalogue their collection with a simple photo of their bookshelf.">
    <!-- Added favicon for browser tab -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232E5C8A'%3E%3Cpath d='M21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM3 19V6h8v13H3zm18 0h-8V6h8v13zm-7-9.5h6V11h-6zm0 2.5h6v1.5h-6zm0 2.5h6V16h-6z'/%3E%3C/svg%3E">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <nav class="nav">
                <div class="logo">
                    <img src="data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232E5C8A'%3E%3Cpath d='M21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM3 19V6h8v13H3zm18 0h-8V6h8v13zm-7-9.5h6V11h-6zm0 2.5h6v1.5h-6zm0 2.5h6V16h-6z'/%3E%3C/svg%3E" alt="ShelfSmart Logo" class="site-logo">
                    <h1>ShelfSmart</h1>                
                </div>
                <div class="nav-links">
                    <a href="#features">Features</a>
                    <a href="#how-it-works">How It Works</a>
                    <a href="#testimonials">Testimonials</a>
                    <a href="#pricing">Pricing</a>
                    <a href="#" class="btn btn-primary auth-link">Sign In</a>
                </div>
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Your books, beautifully organized</h1>
                <p>Turn your physical bookshelf into a searchable digital library with just a photo</p>
                <div class="hero-cta">
                    <a href="#" class="btn btn-primary btn-large auth-link">Get Started</a>
                    <a href="#how-it-works" class="btn btn-secondary btn-large">See How It Works</a>
                </div>
            </div>
            <div class="hero-image">
                <img src="https://source.unsplash.com/random/600x400/?bookshelf" alt="Bookshelf scanned with AI" class="hero-img">
            </div>
        </div>
    </section>

    <section class="benefits" id="features">
        <div class="container">
            <h2 class="section-title">Smart Features for Book Lovers</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h3>Instant Capture</h3>
                    <p>One photo captures your entire collection with precision.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Smart Search</h3>
                    <p>Find any book in your collection instantly by title, author, or ISBN.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-cloud"></i>
                    </div>
                    <h3>Cloud Access</h3>
                    <p>Access your catalog anywhere while books remain safely on your shelves.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <h3>Easy Sharing</h3>
                    <p>Share your collection with friends or keep it private - it's up to you.</p>
                </div>
            </div>
            <div class="benefits-cta">
                <a href="#" class="btn btn-primary auth-link">Start Cataloging</a>
            </div>
        </div>
    </section>

    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Take a Photo</h3>
                        <p>Simply snap a picture of your bookshelf using your smartphone or tablet.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>AI Recognition</h3>
                        <p>Our advanced AI identifies book titles, authors, and even ISBN numbers automatically.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Organized Library</h3>
                        <p>Your books are instantly cataloged into a searchable digital library you can access anywhere.</p>
                    </div>
                </div>
            </div>
            <div class="demo-cta">
                <a href="#" class="btn btn-primary auth-link">Try It Now</a>
            </div>
        </div>
    </section>

    <section class="testimonials" id="testimonials">
        <div class="container">
            <h2 class="section-title">What Our Users Say</h2>
            <div class="testimonial-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"Finally, an app that understands book lovers! I cataloged my entire collection in minutes."</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://i.pravatar.cc/150?img=1" alt="User avatar">
                        </div>
                        <div class="author-info">
                            <h4>Sarah Johnson</h4>
                            <p>Book Collector & Reader</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"The AI recognition is remarkably accurate. It even identified some obscure titles in my collection."</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://i.pravatar.cc/150?img=11" alt="User avatar">
                        </div>
                        <div class="author-info">
                            <h4>Professor Michael Chen</h4>
                            <p>Literature Professor</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"I can finally find books I own without searching through shelves. This app has been a game-changer."</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://i.pravatar.cc/150?img=5" alt="User avatar">
                        </div>
                        <div class="author-info">
                            <h4>Eleanor West</h4>
                            <p>Avid Reader & Collector</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="pricing" id="pricing">
        <div class="container">
            <h2 class="section-title">Simple Pricing</h2>
            <div class="pricing-container">
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Premium Plan</h3>
                        <div class="price">
                            <span class="amount">$9.99</span>
                            <span class="period">per month</span>
                        </div>
                    </div>
                    <div class="pricing-body">
                        <ul class="feature-list">
                            <li><i class="fas fa-check"></i> Unlimited books in your library</li>
                            <li><i class="fas fa-check"></i> Advanced search capabilities</li>
                            <li><i class="fas fa-check"></i> AI-powered recognition</li>
                            <li><i class="fas fa-check"></i> 10 bookshelf scans per day</li>
                            <li><i class="fas fa-check"></i> Cloud backup and sync</li>
                        </ul>
                    </div>
                    <div class="pricing-footer">
                        <a href="#" class="btn btn-primary auth-link">Start Free Trial</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Organize Your Collection?</h2>
                <p>Join thousands of book lovers who have discovered the easiest way to catalog their books.</p>
                <a href="#" class="btn btn-primary btn-large auth-link">Get Started Today</a>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>ShelfSmart</h2>
                    <p>Your Digital Library Companion</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h3>Product</h3>
                        <ul>
                            <li><a href="#features">Features</a></li>
                            <li><a href="#how-it-works">How It Works</a></li>
                            <li><a href="#pricing">Pricing</a></li>
                            <li><a href="#" class="auth-link">Sign In</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Company</h3>
                        <ul>
                            <li><a href="mailto:shelfsmartbook@gmail.com">Contact</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Legal</h3>
                        <ul>
                            <li><a href="legal/privacy.html">Privacy Policy</a></li>
                            <li><a href="legal/terms.html">Terms of Service</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ShelfSmart. All rights reserved.</p>
                <!--  <div class="social-icons">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>  -->
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        document.getElementById('menuToggle').addEventListener('click', function() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('active');
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                // Skip if this is an auth link (already handled)
                if (this.classList.contains('auth-link')) {
                    return;
                }
                
                e.preventDefault();
                
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    window.scrollTo({
                        top: target.offsetTop - 70,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Auth navigation handler - checks if already authenticated
        async function handleAuthNavigation(e) {
            e.preventDefault();
            
            try {
                // Check if user is already authenticated using Azure's built-in endpoint
                const response = await fetch('/.auth/me');
                const authData = await response.json();
                
                // If user is authenticated (array has items)
                if (authData && authData.length > 0) {
                    // Already authenticated, go directly to app
                    window.location.href = '/app';
                } else {
                    // Not authenticated, go to login
                    window.location.href = '/.auth/login/google?post_login_redirect_uri=/app';
                }
            } catch (error) {
                console.error('Error checking authentication:', error);
                // On error, default to login flow
                window.location.href = '/.auth/login/google?post_login_redirect_uri=/app';
            }
        }
        
        // Add event listeners to all auth links
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.auth-link').forEach(link => {
                link.addEventListener('click', handleAuthNavigation);
            });
        });
    </script>
</body>
</html>